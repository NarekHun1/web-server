# Простой веб-сервер на Fastify

### Стек технологий
- Fastify
- PostgreSQL
- TypeScript

### Установка и запуск

1. Склонируйте репозиторий:

git clone <repository_url>
cd <repository_folder>

2. Установите зависимости:

npm install

3. Зарегистрируйтесь на [Skinport](https://skinport.com/account) и сгенерируйте новый клиентский секрет (API-ключ). Добавьте его в переменную окружения API_KEY в формате Client Id:Client Secret.

4. Настройте переменные окружения, создав файл .env на основе примера .env.example.

5. (Необязательно) Для запуска базы данных PostgreSQL в Docker выполните команду:

docker-compose up -d

6. Соберите и запустите сервер:

npm run build
npm run start

### Эндпоинты

- GET /items — Возвращает список предметов с указанием минимальных цен (как для tradable, так и для non-tradable товаров). Кэширует данные для оптимизации работы.

- POST /users/purchase — Списывает указанную сумму с баланса пользователя с id=1. Пример тела запроса:

{
  "amount": 10
}

- POST /users/init — Создаёт пользователя с id=1 и устанавливает его баланс в 100, если такого пользователя не существует. Если пользователь уже существует, его баланс сбрасывается до 100.